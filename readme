1) IP của server

LAN (cùng mạng):

Windows: mở CMD → gõ ipconfig → lấy dòng IPv4 Address (vd 192.168.1.100).

Linux: ip -4 addr show → lấy inet 192.168.x.y/....

macOS: ipconfig getifaddr en0 (Wi‑Fi) hoặc ifconfig | grep "inet ".
→ Dùng IP LAN này nếu client cũng ở cùng LAN/VPN.

Internet (khác mạng/NAT):
Trên server, mở trình duyệt và tìm “what is my IP” → lấy Public IP.
Nhớ mở cổng và NAT port‑forward 5000 tới máy server.

2) IP của từng client (để cho vào --allow)

Cách nhanh: trên mỗi client, mở trình duyệt tìm “what is my ip” → copy Public IP.

Nếu client và server cùng LAN, bạn có thể whitelist IP LAN của từng client (lấy bằng ipconfig/ip addr như trên).

Mẹo: Chạy server chưa bật --allow lần đầu, cho client connect 1 lần; xem log server sẽ in:
[NET] REGISTER C1 from 113.190.xx.yy:54321
→ 113.190.xx.yy chính là IP để đưa vào --allow. Xong tắt server và chạy lại với whitelist.

Điền các địa chỉ này ở đâu?
Cách KHÔNG sửa code (khuyên dùng)

Server (trên máy server):

python server_main.py --host 0.0.0.0 --port 5000 \
  --allow <IP_client1> --allow <IP_client2> --allow <IP_client3> --allow <IP_client4> \
  --lease 30


Nếu nhiều client cùng dùng một Wi‑Fi/NAT, bạn có thể chỉ cần 1 IP public (tất cả máy sau NAT sẽ hiện cùng IP trước server).

Client (trên mỗi máy client):

python client_gui.py


Trong cửa sổ, điền Server IP = IP của server (LAN hoặc Public tuỳ trường hợp), Port = 5000 → Connect → Request.

Cách MUỐN “cố định sẵn” trong code

Mặc định Server IP trong GUI client (để khỏi phải gõ lại):
Mở client_gui.py, tìm hai dòng này và sửa:

self.server_host = tk.StringVar(value="127.0.0.1")  # đổi "127.0.0.1" → "203.0.113.5" (IP server của bạn)
self.server_port = tk.IntVar(value=5000)            # nếu đổi cổng thì sửa ở đây


Mặc định danh sách allow trên server (nếu thích không truyền tham số):
Trong server_main.py, tìm dòng parser.add_argument("--allow", action="append", default=[], ...)
và sửa thành (ví dụ):

parser.add_argument("--allow", action="append",
                    default=["113.190.xx.yy","171.224.aa.bb","42.119.cc.dd","14.162.ee.ff"])


Hoặc sau args = parser.parse_args() thêm:

if not args.allow:
    args.allow = ["113.190.xx.yy","171.224.aa.bb","42.119.cc.dd","14.162.ee.ff"]


python server_main.py --host 0.0.0.0 --port 5000 \
  --allow <IP_client1> --allow <IP_client2> --allow <IP_client3> --allow <IP_client4> \
  --lease 30